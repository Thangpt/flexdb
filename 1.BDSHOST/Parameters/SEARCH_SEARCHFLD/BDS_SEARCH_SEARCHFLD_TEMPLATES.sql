--
--
/
DELETE SEARCH WHERE SEARCHCODE = 'TEMPLATES';
insert into search (SEARCHCODE, SEARCHTITLE, EN_SEARCHTITLE, SEARCHCMDSQL, OBJNAME, FRMNAME, ORDERBYCMDSQL, TLTXCD, CNTRECORD, ROWPERPAGE, AUTOSEARCH, INTERVAL, AUTHCODE, ROWLIMIT, CMDTYPE)
values ('TEMPLATES', 'Thông tin mẫu SMS/Email', 'SMS/Email templates', 'SELECT T.CODE, T.NAME, T.SUBJECT, A1.CDCONTENT TYPE, A2.CDCONTENT CYCLE,
       A3.CDCONTENT FORMAT, A4.CDCONTENT REQUIRE_REGISTER, T.EXPORT_PATH, A5.CDCONTENT ALLOW_ZIP, A6.CDCONTENT PRIORITY
  FROM TEMPLATES T
 INNER JOIN ALLCODE A1 ON T.TYPE = A1.CDVAL AND A1.CDTYPE = ''SY'' AND A1.CDNAME = ''TEMPLATE_TYPE''
 INNER JOIN ALLCODE A2 ON T.CYCLE = A2.CDVAL AND A2.CDTYPE = ''SY'' AND A2.CDNAME = ''TEMPLATE_CYCLE''
 INNER JOIN ALLCODE A3 ON T.FORMAT = A3.CDVAL AND A3.CDTYPE = ''SY'' AND A3.CDNAME = ''TEMPLATE_FORMAT''
 INNER JOIN ALLCODE A4 ON T.REQUIRE_REGISTER = A4.CDVAL AND A4.CDTYPE = ''SY'' AND A4.CDNAME = ''TEMPLATE_REQUIRED''
 INNER JOIN ALLCODE A5 ON CASE WHEN T.TYPE = ''H'' THEN T.ALLOW_ZIP ELSE ''N'' END = A5.CDVAL AND A5.CDTYPE = ''SY'' AND A5.CDNAME = ''YESNO''
 INNER JOIN ALLCODE A6 ON T.PRIORITY = A6.CDVAL AND A6.CDTYPE = ''SA'' AND A6.CDNAME = ''PRIORITY''', 'TEMPLATES', null, 'NAME', null, null, 50, 'N', 30, null, 'Y', 'T');
COMMIT;
/
--
--
/
DELETE SEARCHFLD WHERE SEARCHCODE = 'TEMPLATES';
insert into searchfld (POSITION, FIELDCODE, FIELDNAME, FIELDTYPE, SEARCHCODE, FIELDSIZE, MASK, OPERATOR, FORMAT, DISPLAY, SRCH, KEY, WIDTH, LOOKUPCMDSQL, EN_FIELDNAME, REFVALUE, FLDCD, DEFVALUE, MULTILANG, ACDTYPE, ACDNAME, FIELDCMP, FIELDCMPKEY)
values (1, 'CODE', 'Mã mẫu', 'C', 'TEMPLATES', 10, 'cccc', 'LIKE,=', '_', 'Y', 'Y', 'Y', 100, null, 'Custody code', 'N', null, null, 'N', null, null, null, 'N');
insert into searchfld (POSITION, FIELDCODE, FIELDNAME, FIELDTYPE, SEARCHCODE, FIELDSIZE, MASK, OPERATOR, FORMAT, DISPLAY, SRCH, KEY, WIDTH, LOOKUPCMDSQL, EN_FIELDNAME, REFVALUE, FLDCD, DEFVALUE, MULTILANG, ACDTYPE, ACDNAME, FIELDCMP, FIELDCMPKEY)
values (2, 'NAME', 'Tên file mẫu', 'C', 'TEMPLATES', 10, 'ccccc', 'LIKE,=', '_', 'Y', 'N', 'N', 100, null, 'Custody code', 'N', null, null, 'N', null, null, null, 'N');
insert into searchfld (POSITION, FIELDCODE, FIELDNAME, FIELDTYPE, SEARCHCODE, FIELDSIZE, MASK, OPERATOR, FORMAT, DISPLAY, SRCH, KEY, WIDTH, LOOKUPCMDSQL, EN_FIELDNAME, REFVALUE, FLDCD, DEFVALUE, MULTILANG, ACDTYPE, ACDNAME, FIELDCMP, FIELDCMPKEY)
values (3, 'SUBJECT', 'Tiêu đề mẫu', 'C', 'TEMPLATES', 300, null, 'LIKE,=', null, 'Y', 'Y', 'N', 300, null, 'Full name', 'Y', null, null, 'N', null, null, null, 'N');
insert into searchfld (POSITION, FIELDCODE, FIELDNAME, FIELDTYPE, SEARCHCODE, FIELDSIZE, MASK, OPERATOR, FORMAT, DISPLAY, SRCH, KEY, WIDTH, LOOKUPCMDSQL, EN_FIELDNAME, REFVALUE, FLDCD, DEFVALUE, MULTILANG, ACDTYPE, ACDNAME, FIELDCMP, FIELDCMPKEY)
values (4, 'TYPE', 'Loại', 'C', 'TEMPLATES', 10, null, '=', '_', 'Y', 'Y', 'N', 100, null, 'Customer ID', 'N', null, null, 'N', null, null, null, 'N');
insert into searchfld (POSITION, FIELDCODE, FIELDNAME, FIELDTYPE, SEARCHCODE, FIELDSIZE, MASK, OPERATOR, FORMAT, DISPLAY, SRCH, KEY, WIDTH, LOOKUPCMDSQL, EN_FIELDNAME, REFVALUE, FLDCD, DEFVALUE, MULTILANG, ACDTYPE, ACDNAME, FIELDCMP, FIELDCMPKEY)
values (9, 'ALLOW_ZIP', 'Nén file', 'C', 'TEMPLATES', 10, null, '=', '_', 'Y', 'Y', 'N', 100, null, 'Customer ID', 'N', null, null, 'N', null, null, null, 'N');
insert into searchfld (POSITION, FIELDCODE, FIELDNAME, FIELDTYPE, SEARCHCODE, FIELDSIZE, MASK, OPERATOR, FORMAT, DISPLAY, SRCH, KEY, WIDTH, LOOKUPCMDSQL, EN_FIELDNAME, REFVALUE, FLDCD, DEFVALUE, MULTILANG, ACDTYPE, ACDNAME, FIELDCMP, FIELDCMPKEY)
values (6, 'FORMAT', 'Định dạng', 'C', 'TEMPLATES', 10, null, '=', '_', 'Y', 'Y', 'N', 100, null, 'Customer ID', 'N', null, null, 'N', null, null, null, 'N');
insert into searchfld (POSITION, FIELDCODE, FIELDNAME, FIELDTYPE, SEARCHCODE, FIELDSIZE, MASK, OPERATOR, FORMAT, DISPLAY, SRCH, KEY, WIDTH, LOOKUPCMDSQL, EN_FIELDNAME, REFVALUE, FLDCD, DEFVALUE, MULTILANG, ACDTYPE, ACDNAME, FIELDCMP, FIELDCMPKEY)
values (7, 'REQUIRED', 'Yêu cầu đăng ký', 'C', 'TEMPLATES', 10, null, '=', '_', 'Y', 'Y', 'N', 100, null, 'Customer ID', 'N', null, null, 'N', null, null, null, 'N');
insert into searchfld (POSITION, FIELDCODE, FIELDNAME, FIELDTYPE, SEARCHCODE, FIELDSIZE, MASK, OPERATOR, FORMAT, DISPLAY, SRCH, KEY, WIDTH, LOOKUPCMDSQL, EN_FIELDNAME, REFVALUE, FLDCD, DEFVALUE, MULTILANG, ACDTYPE, ACDNAME, FIELDCMP, FIELDCMPKEY)
values (8, 'EXPORT_PATH', 'Đường dẫn chứa file gửi kèm email', 'C', 'TEMPLATES', 10, null, 'LIKE,=', '_', 'Y', 'Y', 'N', 100, null, 'Customer ID', 'N', null, null, 'N', null, null, null, 'N');
insert into searchfld (POSITION, FIELDCODE, FIELDNAME, FIELDTYPE, SEARCHCODE, FIELDSIZE, MASK, OPERATOR, FORMAT, DISPLAY, SRCH, KEY, WIDTH, LOOKUPCMDSQL, EN_FIELDNAME, REFVALUE, FLDCD, DEFVALUE, MULTILANG, ACDTYPE, ACDNAME, FIELDCMP, FIELDCMPKEY)
values (5, 'CYCLE', 'Chu kỳ gửi', 'C', 'TEMPLATES', 10, null, '=', '_', 'Y', 'Y', 'N', 100, null, 'Customer ID', 'N', null, null, 'N', null, null, null, 'N');
insert into searchfld (POSITION, FIELDCODE, FIELDNAME, FIELDTYPE, SEARCHCODE, FIELDSIZE, MASK, OPERATOR, FORMAT, DISPLAY, SRCH, KEY, WIDTH, LOOKUPCMDSQL, EN_FIELDNAME, REFVALUE, FLDCD, DEFVALUE, MULTILANG, ACDTYPE, ACDNAME, FIELDCMP, FIELDCMPKEY)
values (10, 'PRIORITY', 'Mức độ ưu tiên', 'C', 'TEMPLATES', 10, null, 'LIKE,=', '_', 'Y', 'Y', 'N', 100, null, 'Customer ID', 'N', null, null, 'N', null, null, null, 'N');
COMMIT;
/
