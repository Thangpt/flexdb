--
--
/
DELETE SEARCH WHERE SEARCHCODE = 'FO0001';
INSERT INTO SEARCH (SEARCHCODE,SEARCHTITLE,EN_SEARCHTITLE,SEARCHCMDSQL,OBJNAME,FRMNAME,ORDERBYCMDSQL,TLTXCD,CNTRECORD,ROWPERPAGE,AUTOSEARCH,INTERVAL,AUTHCODE,ROWLIMIT,CMDTYPE)
VALUES ('FO0001','Tra cứu lịch sử đặt lệnh','Order history','SELECT OD.TXDATE, OD.TXTIME, OD.TXNUM, OD.ORDERID, OD.REFORDERID, SYM.SYMBOL,
OD.ORDERQTTY, OD.QUOTEPRICE, OD.EXECQTTY, OD.ADJUSTQTTY, OD.CANCELQTTY, OD.EXECAMT, OD.FEEAMT,
OD.EXECTYPE, OD.VIA, OD.ORSTATUS, OD.MATCHTYPE, OD.TIMETYPE, OD.PRICETYPE,
CD1.CDCONTENT DESC_EXECTYPE,  CD2.CDCONTENT DESC_VIA, CD3.CDCONTENT DESC_ORSTATUS,
CD4.CDCONTENT DESC_MATCHTYPE, CD5.CDCONTENT DESC_TIMETYPE, CD6.CDCONTENT DESC_PRICETYPE
FROM SBSECURITIES SYM, ODMAST OD, AFMAST AF, ALLCODE CD1, ALLCODE CD2, ALLCODE CD3, ALLCODE CD4, ALLCODE CD5, ALLCODE CD6
WHERE SYM.CODEID=OD.CODEID AND AF.ACCTNO=OD.AFACCTNO AND AF.ACCTNO=''<$AFACCTNO>''
AND CD1.CDTYPE=''OD'' AND CD1.CDNAME=''EXECTYPE'' AND CD1.CDVAL=OD.EXECTYPE
AND CD2.CDTYPE=''OD'' AND CD2.CDNAME=''VIA'' AND CD2.CDVAL=OD.VIA
AND CD3.CDTYPE=''OD'' AND CD3.CDNAME=''ORSTATUS'' AND CD3.CDVAL=OD.ORSTATUS
AND CD4.CDTYPE=''OD'' AND CD4.CDNAME=''MATCHTYPE'' AND CD4.CDVAL=OD.MATCHTYPE
AND CD5.CDTYPE=''OD'' AND CD5.CDNAME=''TIMETYPE'' AND CD5.CDVAL=OD.TIMETYPE
AND CD6.CDTYPE=''OD'' AND CD6.CDNAME=''PRICETYPE'' AND CD6.CDVAL=OD.PRICETYPE
UNION ALL
SELECT OD.TXDATE, OD.TXTIME, OD.TXNUM, OD.ORDERID, OD.REFORDERID, SYM.SYMBOL,
OD.ORDERQTTY, OD.QUOTEPRICE, OD.EXECQTTY, OD.ADJUSTQTTY, OD.CANCELQTTY, OD.EXECAMT, OD.FEEAMT,
OD.EXECTYPE, OD.VIA, OD.ORSTATUS, OD.MATCHTYPE, OD.TIMETYPE, OD.PRICETYPE,
CD1.CDCONTENT DESC_EXECTYPE,  CD2.CDCONTENT DESC_VIA, CD3.CDCONTENT DESC_ORSTATUS,
CD4.CDCONTENT DESC_MATCHTYPE, CD5.CDCONTENT DESC_TIMETYPE, CD6.CDCONTENT DESC_PRICETYPE
FROM SBSECURITIES SYM, ODMASTHIST OD, AFMAST AF, ALLCODE CD1, ALLCODE CD2, ALLCODE CD3, ALLCODE CD4, ALLCODE CD5, ALLCODE CD6
WHERE SYM.CODEID=OD.CODEID AND AF.ACCTNO=OD.AFACCTNO AND AF.ACCTNO=''<$AFACCTNO>''
AND CD1.CDTYPE=''OD'' AND CD1.CDNAME=''EXECTYPE'' AND CD1.CDVAL=OD.EXECTYPE
AND CD2.CDTYPE=''OD'' AND CD2.CDNAME=''VIA'' AND CD2.CDVAL=OD.VIA
AND CD3.CDTYPE=''OD'' AND CD3.CDNAME=''ORSTATUS'' AND CD3.CDVAL=OD.ORSTATUS
AND CD4.CDTYPE=''OD'' AND CD4.CDNAME=''MATCHTYPE'' AND CD4.CDVAL=OD.MATCHTYPE
AND CD5.CDTYPE=''OD'' AND CD5.CDNAME=''TIMETYPE'' AND CD5.CDVAL=OD.TIMETYPE
AND CD6.CDTYPE=''OD'' AND CD6.CDNAME=''PRICETYPE'' AND CD6.CDVAL=OD.PRICETYPE','USERLOGIN',null,'TXDATE, TXNUM',null,null,50,'N',30,'NYNNYYYNNN','Y','T');
COMMIT;
/
--
--
/
DELETE SEARCHFLD WHERE SEARCHCODE = 'FO0001';
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (19,'VIA','Kênh đặt lệnh','C','FO0001',100,null,'=','_','N','Y','N',150,'SELECT CDVAL VALUE, CDCONTENT DISPLAY FROM ALLCODE WHERE CDTYPE = ''OD'' AND CDNAME = ''VIA'' ORDER BY LSTODR','VIA channel','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (18,'PRICETYPE','Loại lệnh','C','FO0001',100,null,'=','_','N','Y','N',150,'SELECT CDVAL VALUE, CDCONTENT DISPLAY FROM ALLCODE WHERE CDTYPE = ''OD'' AND CDNAME = ''PRICETYPE'' ORDER BY LSTODR','Price type','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (17,'EXECTYPE','Mua/Bán','C','FO0001',100,null,'=','_','N','Y','N',150,'SELECT CDVAL VALUE, CDCONTENT DISPLAY FROM ALLCODE WHERE CDTYPE = ''OD'' AND CDNAME = ''EXECTYPE'' ORDER BY LSTODR','Execution type','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (16,'ORSTATUS','Trạng thái','C','FO0001',100,null,'=','_','N','Y','N',150,'SELECT CDVAL VALUE, CDCONTENT DISPLAY FROM ALLCODE WHERE CDTYPE = ''OD'' AND CDNAME = ''ORSTATUS'' ORDER BY LSTODR','Order status','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (15,'DESC_ORSTATUS','Trạng thái','C','FO0001',100,null,'=','_','Y','N','N',150,null,'Status','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (14,'DESC_VIA','Kênh','C','FO0001',100,null,'=','_','Y','N','N',150,null,'Via','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (13,'DESC_PRICETYPE','Loại lệnh','C','FO0001',100,null,'=','_','Y','N','N',150,null,'Price type','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (12,'CANCELQTTY','KL hủy','N','FO0001',100,null,'<,<=,=,>=,>,<>','#,##0','Y','Y','N',150,null,'Cancel Qtty','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (11,'ADJUSTQTTY','KL sửa','N','FO0001',100,null,'<,<=,=,>=,>,<>','#,##0','Y','Y','N',150,null,'Adjust Qtty','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (10,'FEEAMT','Phí','N','FO0001',100,null,'<,<=,=,>=,>,<>','#,##0','Y','Y','N',150,null,'Fee Amount','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (9,'EXECAMT','Giá trị khớp','N','FO0001',100,null,'<,<=,=,>=,>,<>','#,##0','Y','Y','N',150,null,'Exec Amount','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (8,'EXECQTTY','KL khớp','N','FO0001',100,null,'<,<=,=,>=,>,<>','#,##0','Y','Y','N',150,null,'Exec Qtty','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (7,'QUOTEPRICE','Giá đặt','N','FO0001',100,null,'<,<=,=,>=,>,<>','#,##0','Y','Y','N',150,null,'Order Price','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (6,'ORDERQTTY','KL đặt','N','FO0001',100,null,'<,<=,=,>=,>,<>','#,##0','Y','Y','N',150,null,'Order Qtty','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (5,'SYMBOL','Chứng khoán','C','FO0001',100,null,'LIKE,=','_','Y','N','N',150,null,'Symbol','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (4,'DESC_EXECTYPE','Mua/Bán','C','FO0001',100,null,'=','_','Y','N','N',150,null,'Execution','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (3,'TXTIME','Giờ giao dịch','C','FO0001',100,null,'=','_','Y','N','N',150,null,'Tx.Time','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (2,'TXNUM','Số giao dịch','C','FO0001',100,'CCCCDCCCCCC','=',null,'Y','N','N',100,null,'Tx.Num','N',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (1,'TXDATE','Ngày giao dịch','D','FO0001',100,null,'=',null,'Y','Y','N',100,null,'Tx.Date','N','  ',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (0,'ORDERID','Số hiệu lệnh','C','FO0001',150,null,'=',null,'N','N','Y',150,null,'Order ID','N','01',null,'N',null,null,null,'N');
COMMIT;
/
