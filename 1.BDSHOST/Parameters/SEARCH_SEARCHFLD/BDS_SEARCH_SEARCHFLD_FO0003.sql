--
--
/
DELETE SEARCH WHERE SEARCHCODE = 'FO0003';
INSERT INTO SEARCH (SEARCHCODE,SEARCHTITLE,EN_SEARCHTITLE,SEARCHCMDSQL,OBJNAME,FRMNAME,ORDERBYCMDSQL,TLTXCD,CNTRECORD,ROWPERPAGE,AUTOSEARCH,INTERVAL,AUTHCODE,ROWLIMIT,CMDTYPE)
VALUES ('FO0003','So phu tai khoan chung khoan','Custody account statement','SELECT DISTINCT LG.TXDATE, LG.TXNUM, LG.TXTIME, LG.TLTXCD, LG.TXDESC, SYM.SYMBOL, LG.MSGAMT, LG.MSGACCT, TRF.NAMT TRFVAL
FROM AFMAST AF, SBSECURITIES SYM, SEMAST MST, SETRAN TRF, TLLOG LG, APPTX TX
WHERE AF.ACCTNO=MST.AFACCTNO AND MST.ACCTNO=TRF.ACCTNO AND TRF.TXDATE=LG.TXDATE AND TRF.TXNUM=LG.TXNUM AND LG.DELTD<>''Y''
AND SYM.CODEID=MST.CODEID AND TX.APPTYPE=''SE'' AND TX.FIELD=''TRADE'' AND TX.TXCD=TRF.TXCD AND AF.ACCTNO=''<$AFACCTNO>''
UNION ALL
SELECT DISTINCT LG.TXDATE, LG.TXNUM, LG.TXTIME, LG.TLTXCD, LG.TXDESC, SYM.SYMBOL, LG.MSGAMT, LG.MSGACCT, TRF.NAMT TRFVAL
FROM AFMAST AF, SBSECURITIES SYM, SEMAST MST, SETRANA TRF, TLLOGALL LG, APPTX TX
WHERE AF.ACCTNO=MST.AFACCTNO AND MST.ACCTNO=TRF.ACCTNO AND TRF.TXDATE=LG.TXDATE AND TRF.TXNUM=LG.TXNUM AND LG.DELTD<>''Y''
AND SYM.CODEID=MST.CODEID AND TX.APPTYPE=''SE'' AND TX.FIELD=''TRADE'' AND TX.TXCD=TRF.TXCD AND AF.ACCTNO=''<$AFACCTNO>''','USERLOGIN',null,'TXDATE, TXNUM',null,null,50,'N',30,null,'Y','T');
COMMIT;
/
--
--
/
DELETE SEARCHFLD WHERE SEARCHCODE = 'FO0003';
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (7,'TRFVAL','Khoi luong','N','FO0003',100,null,'<,<=,=,>=,>,<>','#,##0','Y','Y','N',150,null,'Quantity','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (6,'MSGAMT','Gia tri','N','FO0003',100,null,'<,<=,=,>=,>,<>','#,##0','Y','Y','N',150,null,'Ref.value','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (5,'MSGACCT','So tai khoan','C','FO0003',100,null,'=','_','Y','N','N',150,null,'Reference','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (4,'SYMBOL','Chứng khoán','C','FO0003',100,null,'LIKE,=','_','Y','N','N',150,null,'Symbol','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (3,'TXDESC','Diễn giải','C','FO0003',100,null,'=','_','Y','N','N',150,null,'Description','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (2,'TXTIME','Gio giao dich','C','FO0003',100,null,'=','_','Y','N','N',150,null,'Tx.Time','N','30',null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (1,'TXNUM','So giao dich','C','FO0003',100,'CCCCDCCCCCC','=',null,'Y','N','N',100,null,'Tx.Num','N',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (0,'TXDATE','Ngay giao dich','D','FO0003',100,null,'=',null,'Y','Y','N',100,null,'Tx.Date','N','  ',null,'N',null,null,null,'N');
COMMIT;
/
