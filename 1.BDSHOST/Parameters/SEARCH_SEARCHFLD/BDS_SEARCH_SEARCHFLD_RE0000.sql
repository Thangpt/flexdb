--
--
/
DELETE SEARCH WHERE SEARCHCODE = 'RE0000';
INSERT INTO SEARCH (SEARCHCODE,SEARCHTITLE,EN_SEARCHTITLE,SEARCHCMDSQL,OBJNAME,FRMNAME,ORDERBYCMDSQL,TLTXCD,CNTRECORD,ROWPERPAGE,AUTOSEARCH,INTERVAL,AUTHCODE,ROWLIMIT,CMDTYPE)
VALUES ('RE0000','Tra cứu tổ chức môi giới/đại lý','View orginazation chart of broker/remiser','SELECT SP_FORMAT_REGRP_MAPCODE(GRP.AUTOID) MAPCODE,
PRGRP.FULLNAME PRNAME, TO_CHAR(GRP.FULLNAME) DTLNAME, A0.CDCONTENT TYP
FROM REGRP GRP, CFMAST CF, REGRP PRGRP, ALLCODE A0
WHERE CF.CUSTID=GRP.CUSTID AND GRP.PRGRPID = PRGRP.AUTOID (+) AND GRP.STATUS=''A''
AND A0.CDTYPE=''RE'' AND A0.CDNAME=''DEFTYP'' AND A0.CDVAL=''G'' UNION ALL
SELECT SP_FORMAT_REGRP_MAPCODE(REGRP.AUTOID) MAPCODE, REGRP.FULLNAME PRNAME, TO_CHAR(CF.FULLNAME) DTLNAME, A0.CDCONTENT TYP
FROM RECFLNK LNK, CFMAST CF, REGRPLNK GRP, REGRP, ALLCODE A0
WHERE LNK.CUSTID=CF.CUSTID AND REGRP.AUTOID=GRP.REFRECFLNKID AND GRP.CUSTID=CF.CUSTID AND GRP.STATUS=''A''
AND A0.CDTYPE=''RE'' AND A0.CDNAME=''DEFTYP'' AND A0.CDVAL=''U''','REGRP','frmREGRP','MAPCODE, TYP DESC, PRNAME',null,0,50,'N',30,'NYNNYYYNNN','Y','T');
COMMIT;
/
--
--
/
DELETE SEARCHFLD WHERE SEARCHCODE = 'RE0000';
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (4,'TYP','Loại','C','RE0000',200,null,'=,LIKE',null,'Y','Y','N',100,null,'Type','N',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (3,'DTLNAME','Tên','C','RE0000',200,null,'=,LIKE',null,'Y','Y','N',250,null,'Name','Y',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (2,'PRNAME','Cấp trên','C','RE0000',200,null,'=,LIKE',null,'Y','Y','N',250,null,'Parent','N',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (1,'MAPCODE','Mã','C','RE0000',200,null,'=,LIKE',null,'Y','Y','N',150,null,'Code','N',null,null,'N',null,null,null,'N');
COMMIT;
/
