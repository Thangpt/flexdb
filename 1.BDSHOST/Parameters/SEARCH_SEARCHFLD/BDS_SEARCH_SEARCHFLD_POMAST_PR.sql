--
--
/
DELETE SEARCH WHERE SEARCHCODE = 'POMAST_PR';
INSERT INTO SEARCH (SEARCHCODE,SEARCHTITLE,EN_SEARCHTITLE,SEARCHCMDSQL,OBJNAME,FRMNAME,ORDERBYCMDSQL,TLTXCD,CNTRECORD,ROWPERPAGE,AUTOSEARCH,INTERVAL,AUTHCODE,ROWLIMIT,CMDTYPE)
VALUES ('POMAST_PR','Tra cứu nhanh bảng kê UNC','Payment order information','
SELECT A.*
FROM
(SELECT TXDATE,TXNUM,AMT,BRID,DELTD,CD.CDCONTENT STATUS,BANKID,BANKNAME,BANKACC,
BANKACCNAME,GLACCTNO,FEETYPE,POTYPE,BENEFACCT,BENEFNAME,BENEFCUSTNAME,DESCRIPTION
FROM POMAST PO, ALLCODE CD
WHERE CD.CDNAME =''POSTATUS'' AND CD.CDTYPE =''SA''
AND CD.CDVAL= PO.STATUS AND PO.DELTD=''N''  and po.codeid is null) A,
(select potxnum, potxdate from CIREMITTANCE  where deltd=''N'' and  potxnum is not null group by potxnum,potxdate) CI
WHERE A.TXDATE = CI.POTXDATE AND A.TXNUM = CI.POTXNUM
union all
SELECT TXDATE,TXNUM,AMT,BRID,DELTD,CD.CDCONTENT STATUS,BANKID,BANKNAME,BANKACC,
BANKACCNAME,GLACCTNO,FEETYPE,POTYPE,BENEFACCT,BENEFNAME,BENEFCUSTNAME,DESCRIPTION
FROM POMAST PO, ALLCODE CD
WHERE CD.CDNAME =''POSTATUS'' AND CD.CDTYPE =''SA''
AND CD.CDVAL= PO.STATUS AND PO.DELTD=''N'' and po.codeid is not null

','POMAST_PR',null,null,null,0,50,'N',30,null,'Y','T');
COMMIT;
/
--
--
/
DELETE SEARCHFLD WHERE SEARCHCODE = 'POMAST_PR';
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (9,'STATUS','Trạng thái','C','POMAST_PR',100,null,'LIKE,=',null,'Y','Y','N',100,null,'Status','N',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (8,'GLACCTNO','Tài khoản kế toán','C','POMAST_PR',100,null,'LIKE,=',null,'Y','Y','N',100,null,'GL Account','N',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (7,'BANKACCNAME','Chủ tài khoản','C','POMAST_PR',300,null,'LIKE,=',null,'Y','Y','N',300,null,'Bank AC Name','Y',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (6,'BANKACC','Tài khoản ngân hàng','C','POMAST_PR',200,null,'LIKE,=',null,'Y','Y','N',100,null,'Bank AC No','N',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (5,'BANKNAME','Tên ngân hàng','C','POMAST_PR',200,null,'LIKE,=','_','Y','Y','N',100,null,'Bank name','N',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (4,'BANKID','Mã ngân hàng','C','POMAST_PR',10,null,'LIKE,=','_','N','N','N',100,null,'Bank ID','N',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (3,'BRID','Mã chi nhánh','C','POMAST_PR',10,null,'LIKE,=','_','N','N','N',100,null,'Branch ID','N',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (2,'AMT','Số tiền','N','POMAST_PR',100,null,'<,<=,=,>=,>',null,'Y','N','N',100,null,'Amount','N',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (1,'TXDATE','Ngày chứng từ','D','POMAST_PR',100,null,'LIKE,=',null,'Y','Y','N',100,null,'TXDATE','N',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (0,'TXNUM','Số bảng kê','C','POMAST_PR',100,null,'LIKE,=',null,'Y','Y','Y',100,null,'TXNUM','N',null,null,'N',null,null,null,'N');
COMMIT;
/
