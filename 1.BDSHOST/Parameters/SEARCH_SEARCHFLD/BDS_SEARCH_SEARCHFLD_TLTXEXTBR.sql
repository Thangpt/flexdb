--
--
/
DELETE SEARCH WHERE SEARCHCODE = 'TLTXEXTBR';
INSERT INTO SEARCH (SEARCHCODE,SEARCHTITLE,EN_SEARCHTITLE,SEARCHCMDSQL,OBJNAME,FRMNAME,ORDERBYCMDSQL,TLTXCD,CNTRECORD,ROWPERPAGE,AUTOSEARCH,INTERVAL,AUTHCODE,ROWLIMIT,CMDTYPE)
VALUES ('TLTXEXTBR','Phân quyền phạm vi CN/PGD của từng giao dịch cho NSD/Nhóm','Assign branch/sub-branch for special transaction','SELECT MST.AUTOID, MST.TLTXCD, MST.TLTYPE, MST.TLCODE, TLTX.TXDESC, TLTX.EN_TXDESC, DTL.TLNAME, BRGRP.BRNAME, A0.CDCONTENT DESC_TLTYPE
FROM TLTXEXTBR MST, (SELECT ''G'' TLTYPE, GRPID TLCODE, TO_CHAR(GRPNAME) TLNAME FROM TLGROUPS UNION SELECT ''U'' TLTYPE, TLID TLCODE, TLNAME FROM TLPROFILES) DTL, TLTX, BRGRP, ALLCODE A0
WHERE MST.BRID=BRGRP.BRID AND MST.TLCODE=DTL.TLCODE AND TLTX.TLTXCD=MST.TLTXCD AND MST.TLTYPE=DTL.TLTYPE AND A0.CDTYPE=''SY'' AND A0.CDNAME=''TLTYPE'' AND A0.CDVAL=DTL.TLTYPE','TLTXEXTBR','frmTLTXEXTBR',null,null,0,50,'N',30,null,'Y','T');
COMMIT;
/
--
--
/
DELETE SEARCHFLD WHERE SEARCHCODE = 'TLTXEXTBR';
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (7,'EN_TXDESC','Diễn giải (EN)','C','TLTXEXTBR',100,null,'<,<=,=,>=,>,<>',null,'Y','Y','N',350,null,'Description (EN)','N',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (6,'TXDESC','Diễn giải (VN)','C','TLTXEXTBR',100,null,'<,<=,=,>=,>,<>',null,'Y','Y','N',350,null,'Description (VN)','N',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (5,'TLTXCD','Giao dịch','C','TLTXEXTBR',100,null,'<,<=,=,>=,>,<>',null,'Y','Y','N',100,null,'TxCode','N',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (4,'BRNAME','CN/PGD','C','TLTXEXTBR',100,null,'<,<=,=,>=,>,<>',null,'Y','Y','N',350,null,'Branch/Sub-branch','N',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (3,'TLNAME','Tên','C','TLTXEXTBR',100,null,'<,<=,=,>=,>,<>',null,'Y','Y','N',350,null,'Name','N',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (2,'TLCODE','Mã','C','TLTXEXTBR',100,null,'<,<=,=,>=,>,<>',null,'Y','Y','N',100,null,'ID','N',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (1,'DESC_TLTYPE','Loại','C','TLTXEXTBR',100,null,'<,<=,=,>=,>,<>',null,'Y','Y','N',100,null,'Type','N',null,null,'N',null,null,null,'N');
INSERT INTO SEARCHFLD (POSITION,FIELDCODE,FIELDNAME,FIELDTYPE,SEARCHCODE,FIELDSIZE,MASK,OPERATOR,FORMAT,DISPLAY,SRCH,KEY,WIDTH,LOOKUPCMDSQL,EN_FIELDNAME,REFVALUE,FLDCD,DEFVALUE,MULTILANG,ACDTYPE,ACDNAME,FIELDCMP,FIELDCMPKEY)
VALUES (0,'AUTOID','Mã quản lý','N','TLTXEXTBR',20,null,'=,<>,<,<=,>=,>',null,'N','Y','Y',100,null,'Auto ID','N',null,null,'N',null,null,null,'N');
COMMIT;
/
