--
--

DELETE objmaster WHERE objname = 'SA.EMAILLIMIT';
insert into objmaster (MODCODE, OBJNAME, OBJTITLE, EN_OBJTITLE, USEAUTOID, CAREBYCHK, OBJBUTTONS)
values ('SA', 'SA.EMAILLIMIT', 'Khai báo mail phê duyệt hạn mức chuyển tiền theo chi nhánh', 'Email Limit', 'N', 'N', 'NNNYYYY');
COMMIT;
--
--

-- 1.6.0.0 - MSBS-2119: 
-- Them tab: Nguời phê duyệt
DELETE grmaster WHERE objname = 'SA.EMAILLIMIT';
insert into grmaster (MODCODE, OBJNAME, ODRNUM, GRNAME, GRTYPE, GRBUTTONS, GRCAPTION, EN_GRCAPTION, CAREBYCHK, SEARCHCODE)
values ('SA', 'SA.EMAILLIMIT', 0, 'MAIN', 'N', 'NNNNNNNN', 'TT chung', 'Common', 'N', null);
insert into grmaster (MODCODE, OBJNAME, ODRNUM, GRNAME, GRTYPE, GRBUTTONS, GRCAPTION, EN_GRCAPTION, CAREBYCHK, SEARCHCODE)
values ('SA', 'SA.EMAILLIMIT', 1, 'TLEMAILLIMIT', 'G', 'EEEENNNN', 'Nguời phê duyệt', 'User
approver', 'N', 'TLEMAILLIMIT');
COMMIT;
--
--

-- 1.6.0.0 - MSBS-2119: 
-- Them truong: TLID,TLNAME,TLTITLE
-- Sua truong: EMPL_EMAIL- sua mo ta, MNG_EMAIL - lay theo user
DELETE FLDMASTER WHERE OBJNAME='SA.EMAILLIMIT';
insert into fldmaster (MODCODE, FLDNAME, OBJNAME, DEFNAME, CAPTION, EN_CAPTION, ODRNUM, FLDTYPE, FLDMASK, FLDFORMAT, FLDLEN, LLIST, LCHK, DEFVAL, VISIBLE, DISABLE, MANDATORY, AMTEXP, VALIDTAG, LOOKUP, DATATYPE, INVNAME, FLDSOURCE, FLDDESC, CHAINNAME, PRINTINFO, LOOKUPNAME, SEARCHCODE, SRMODCODE, INVFORMAT, CTLTYPE, RISKFLD, GRNAME, TAGFIELD, TAGVALUE, TAGLIST, TAGQUERY, PDEFNAME, TAGUPDATE, FLDRND, SUBFIELD, PDEFVAL, DEFDESC, DEFPARAM)
values ('SA', 'BRID', 'SA.EMAILLIMIT', 'BRID', 'Mã chi nhánh', 'BRID', 1, 'C', '9999', '____', 4, null, null, '<$BRID>', 'Y', 'N', 'Y', null, null, 'N', 'C', null, null, null, 'BRID', null, null, 'BRGRP', 'SA', null, 'T', 'N', 'MAIN', null, null, null, 'N', null, 'Y', null, 'N', null, null, null);
insert into fldmaster (MODCODE, FLDNAME, OBJNAME, DEFNAME, CAPTION, EN_CAPTION, ODRNUM, FLDTYPE, FLDMASK, FLDFORMAT, FLDLEN, LLIST, LCHK, DEFVAL, VISIBLE, DISABLE, MANDATORY, AMTEXP, VALIDTAG, LOOKUP, DATATYPE, INVNAME, FLDSOURCE, FLDDESC, CHAINNAME, PRINTINFO, LOOKUPNAME, SEARCHCODE, SRMODCODE, INVFORMAT, CTLTYPE, RISKFLD, GRNAME, TAGFIELD, TAGVALUE, TAGLIST, TAGQUERY, PDEFNAME, TAGUPDATE, FLDRND, SUBFIELD, PDEFVAL, DEFDESC, DEFPARAM)
values ('SA', 'BRNAME', 'SA.EMAILLIMIT', 'BRNAME', 'Tên chi nhánh', 'Branch name', 2, 'T', null, null, 400, null, null, null, 'Y', 'Y', 'Y', null, null, 'N', 'C', null, null, null, null, null, null, null, null, null, 'T', 'N', 'MAIN', null, null, null, 'N', null, 'Y', null, 'N', null, null, null);
insert into fldmaster (MODCODE, FLDNAME, OBJNAME, DEFNAME, CAPTION, EN_CAPTION, ODRNUM, FLDTYPE, FLDMASK, FLDFORMAT, FLDLEN, LLIST, LCHK, DEFVAL, VISIBLE, DISABLE, MANDATORY, AMTEXP, VALIDTAG, LOOKUP, DATATYPE, INVNAME, FLDSOURCE, FLDDESC, CHAINNAME, PRINTINFO, LOOKUPNAME, SEARCHCODE, SRMODCODE, INVFORMAT, CTLTYPE, RISKFLD, GRNAME, TAGFIELD, TAGVALUE, TAGLIST, TAGQUERY, PDEFNAME, TAGUPDATE, FLDRND, SUBFIELD, PDEFVAL, DEFDESC, DEFPARAM)
values ('SA', 'EMPLEMAIL', 'SA.EMAILLIMIT', 'EMPL_EMAIL', 'CC email', 'Email employee', 7, 'T', null, null, 2000, ' ', ' ', ' ', 'Y', 'N', 'Y', ' ', ' ', 'N', 'C', null, null, null, null, '##########', null, null, null, null, 'T', 'N', 'MAIN', 'CUSTID', null, null, 'N', 'P_EMAIL', 'Y', null, 'N', null, null, null);
insert into fldmaster (MODCODE, FLDNAME, OBJNAME, DEFNAME, CAPTION, EN_CAPTION, ODRNUM, FLDTYPE, FLDMASK, FLDFORMAT, FLDLEN, LLIST, LCHK, DEFVAL, VISIBLE, DISABLE, MANDATORY, AMTEXP, VALIDTAG, LOOKUP, DATATYPE, INVNAME, FLDSOURCE, FLDDESC, CHAINNAME, PRINTINFO, LOOKUPNAME, SEARCHCODE, SRMODCODE, INVFORMAT, CTLTYPE, RISKFLD, GRNAME, TAGFIELD, TAGVALUE, TAGLIST, TAGQUERY, PDEFNAME, TAGUPDATE, FLDRND, SUBFIELD, PDEFVAL, DEFDESC, DEFPARAM)
values ('SA', 'MNGEMAIL', 'SA.EMAILLIMIT', 'MNG_EMAIL', 'Ðịa chỉ email GÐ chi nhánh', 'Email manager', 6, 'T', null, null, 100, ' ', ' ', ' ', 'Y', 'Y', 'Y', ' ', ' ', 'N', 'C', null, null, null, null, '##########', null, null, null, null, 'C', 'N', 'MAIN', 'TLID', null, 'SELECT FILTERCD, VALUE, VALUECD, DISPLAY, EN_DISPLAY, DESCRIPTION
FROM (SELECT tl.tlid FILTERCD, tl.email VALUE, tl.email VALUECD,
    tl.email DISPLAY, tl.email EN_DISPLAY, tl.email DESCRIPTION
FROM tlprofiles tl) WHERE FILTERCD=''<$TAGFIELD>'' ORDER BY VALUE
', 'N', 'P_EMAIL', 'Y', null, 'N', null, null, null);
insert into fldmaster (MODCODE, FLDNAME, OBJNAME, DEFNAME, CAPTION, EN_CAPTION, ODRNUM, FLDTYPE, FLDMASK, FLDFORMAT, FLDLEN, LLIST, LCHK, DEFVAL, VISIBLE, DISABLE, MANDATORY, AMTEXP, VALIDTAG, LOOKUP, DATATYPE, INVNAME, FLDSOURCE, FLDDESC, CHAINNAME, PRINTINFO, LOOKUPNAME, SEARCHCODE, SRMODCODE, INVFORMAT, CTLTYPE, RISKFLD, GRNAME, TAGFIELD, TAGVALUE, TAGLIST, TAGQUERY, PDEFNAME, TAGUPDATE, FLDRND, SUBFIELD, PDEFVAL, DEFDESC, DEFPARAM)
values ('SA', 'STATUS', 'SA.EMAILLIMIT', 'STATUS', 'Trạng thái', 'Status', 8, 'C', null, null, 3, 'SELECT  CDVAL VALUECD, CDVAL VALUE, CDCONTENT DISPLAY FROM ALLCODE WHERE CDTYPE = ''CF'' AND CDNAME = ''STATUS'' ORDER BY LSTODR', null, 'P', 'Y', 'Y', 'Y', null, null, 'N', 'C', null, null, null, null, null, null, null, null, null, 'C', 'N', 'MAIN', null, null, null, 'N', null, 'Y', null, 'N', null, null, null);
insert into fldmaster (MODCODE, FLDNAME, OBJNAME, DEFNAME, CAPTION, EN_CAPTION, ODRNUM, FLDTYPE, FLDMASK, FLDFORMAT, FLDLEN, LLIST, LCHK, DEFVAL, VISIBLE, DISABLE, MANDATORY, AMTEXP, VALIDTAG, LOOKUP, DATATYPE, INVNAME, FLDSOURCE, FLDDESC, CHAINNAME, PRINTINFO, LOOKUPNAME, SEARCHCODE, SRMODCODE, INVFORMAT, CTLTYPE, RISKFLD, GRNAME, TAGFIELD, TAGVALUE, TAGLIST, TAGQUERY, PDEFNAME, TAGUPDATE, FLDRND, SUBFIELD, PDEFVAL, DEFDESC, DEFPARAM)
values ('SA', 'TLID', 'SA.EMAILLIMIT', 'TLID', 'Mã User', 'USER', 3, 'M', 'cccc', '_', 4, null, null, null, 'Y', 'N', 'Y', null, null, 'N', 'C', null, null, null, 'TLID', '##########', null, 'TLPROFILES', 'SA', null, 'M', 'N', 'MAIN', 'BRID', null, null, 'N', null, 'Y', null, 'N', null, null, null);
insert into fldmaster (MODCODE, FLDNAME, OBJNAME, DEFNAME, CAPTION, EN_CAPTION, ODRNUM, FLDTYPE, FLDMASK, FLDFORMAT, FLDLEN, LLIST, LCHK, DEFVAL, VISIBLE, DISABLE, MANDATORY, AMTEXP, VALIDTAG, LOOKUP, DATATYPE, INVNAME, FLDSOURCE, FLDDESC, CHAINNAME, PRINTINFO, LOOKUPNAME, SEARCHCODE, SRMODCODE, INVFORMAT, CTLTYPE, RISKFLD, GRNAME, TAGFIELD, TAGVALUE, TAGLIST, TAGQUERY, PDEFNAME, TAGUPDATE, FLDRND, SUBFIELD, PDEFVAL, DEFDESC, DEFPARAM)
values ('SA', 'TLNAME', 'SA.EMAILLIMIT', 'TLNAME', 'Tên User', 'User name', 4, 'T', null, null, 100, null, null, null, 'Y', 'Y', 'Y', null, null, 'N', 'C', null, null, null, null, '##########', null, null, null, null, 'C', 'N', 'MAIN', 'TLID', null, 'SELECT FILTERCD, VALUE, VALUECD, DISPLAY, EN_DISPLAY, DESCRIPTION
FROM (SELECT tl.tlid FILTERCD, tl.tlname VALUE, tl.tlname VALUECD,
    tl.tlname DISPLAY, tl.tlname EN_DISPLAY, tl.tlname DESCRIPTION
FROM tlprofiles tl) WHERE FILTERCD=''<$TAGFIELD>'' ORDER BY VALUE', 'N', null, 'Y', null, 'N', null, null, null);
insert into fldmaster (MODCODE, FLDNAME, OBJNAME, DEFNAME, CAPTION, EN_CAPTION, ODRNUM, FLDTYPE, FLDMASK, FLDFORMAT, FLDLEN, LLIST, LCHK, DEFVAL, VISIBLE, DISABLE, MANDATORY, AMTEXP, VALIDTAG, LOOKUP, DATATYPE, INVNAME, FLDSOURCE, FLDDESC, CHAINNAME, PRINTINFO, LOOKUPNAME, SEARCHCODE, SRMODCODE, INVFORMAT, CTLTYPE, RISKFLD, GRNAME, TAGFIELD, TAGVALUE, TAGLIST, TAGQUERY, PDEFNAME, TAGUPDATE, FLDRND, SUBFIELD, PDEFVAL, DEFDESC, DEFPARAM)
values ('SA', 'TLTITLE', 'SA.EMAILLIMIT', 'TLTITLE', 'Chức vụ', 'Job title', 5, 'C', null, null, 100, null, null, null, 'Y', 'Y', 'Y', null, null, 'N', 'C', null, null, null, null, '##########', null, null, null, null, 'C', 'N', 'MAIN', 'TLID', null, 'SELECT FILTERCD, VALUE, VALUECD, DISPLAY, EN_DISPLAY, DESCRIPTION
FROM (SELECT tl.tlid FILTERCD, tl.TLTITLE VALUE, tl.TLTITLE VALUECD,
    nvl(a1.cdcontent,tl.TLTITLE) DISPLAY, nvl(a1.cdcontent,tl.TLTITLE) EN_DISPLAY, nvl(a1.cdcontent,tl.TLTITLE) DESCRIPTION
FROM tlprofiles tl, allcode a1 where tl.tltitle = a1.cdval(+) and a1.cdname(+) = ''TLTITLE'') WHERE FILTERCD=''<$TAGFIELD>'' ORDER BY VALUE', 'N', null, 'Y', null, 'N', null, null, null);
COMMIT;


--
--

DELETE fldval WHERE objname = 'SA.EMAILLIMIT';
insert into fldval (FLDNAME, OBJNAME, ODRNUM, VALTYPE, OPERATOR, VALEXP, VALEXP2, ERRMSG, EN_ERRMSG, TAGFIELD, TAGVALUE, CHKLEV)
values ('BRNAME', 'SA.EMAILLIMIT', 1, 'E', 'FX', 'FN_BRNAME', 'BRID', null, null, null, null, 0);
COMMIT;
