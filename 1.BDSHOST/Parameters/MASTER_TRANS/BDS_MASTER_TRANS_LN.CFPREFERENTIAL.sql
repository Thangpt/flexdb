--
--
/
DELETE OBJMASTER WHERE OBJNAME = 'LN.CFPREFERENTIAL';
insert into OBJMASTER (MODCODE, OBJNAME, OBJTITLE, EN_OBJTITLE, USEAUTOID, CAREBYCHK, OBJBUTTONS)
values ('LN', 'LN.CFPREFERENTIAL', 'Danh sách KH được hưởng chính sách', 'Customer list is entitled to the policy', 'Y', 'N', 'NNNNYYY');
COMMIT;
/
--
--
/
DELETE GRMASTER WHERE OBJNAME = 'LN.CFPREFERENTIAL';
insert into GRMASTER (MODCODE, OBJNAME, ODRNUM, GRNAME, GRTYPE, GRBUTTONS, GRCAPTION, EN_GRCAPTION, CAREBYCHK, SEARCHCODE)
values ('LN', 'LN.CFPREFERENTIAL', 0, 'MAIN', 'N', 'NNNNNNNN', 'TT chung', 'Common', 'N', null);
COMMIT;
/
--
--
/
DELETE FLDMASTER WHERE OBJNAME = 'LN.CFPREFERENTIAL';
insert into fldmaster (MODCODE, FLDNAME, OBJNAME, DEFNAME, CAPTION, EN_CAPTION, ODRNUM, FLDTYPE, FLDMASK, FLDFORMAT, FLDLEN, LLIST, LCHK, DEFVAL, VISIBLE, DISABLE, MANDATORY, AMTEXP, VALIDTAG, LOOKUP, DATATYPE, INVNAME, FLDSOURCE, FLDDESC, CHAINNAME, PRINTINFO, LOOKUPNAME, SEARCHCODE, SRMODCODE, INVFORMAT, CTLTYPE, RISKFLD, GRNAME, TAGFIELD, TAGVALUE, TAGLIST, TAGQUERY, PDEFNAME, TAGUPDATE, FLDRND, SUBFIELD, PDEFVAL, DEFDESC, DEFPARAM)
values ('LN', 'STATUS', 'LN.CFPREFERENTIAL', 'STATUS', 'Trạng thái', 'Status', 7, 'C', null, null, 1, 'SELECT  CDVAL VALUECD, CDVAL VALUE, CDCONTENT DISPLAY FROM ALLCODE WHERE CDTYPE = ''LN'' AND CDNAME = ''STATUS505'' ORDER BY LSTODR', null, null, 'Y', 'N', 'Y', null, null, 'N', 'C', null, null, null, null, null, null, null, null, null, 'C', 'N', 'MAIN', null, null, null, 'N', null, 'Y', null, 'N', null, null, null);

insert into fldmaster (MODCODE, FLDNAME, OBJNAME, DEFNAME, CAPTION, EN_CAPTION, ODRNUM, FLDTYPE, FLDMASK, FLDFORMAT, FLDLEN, LLIST, LCHK, DEFVAL, VISIBLE, DISABLE, MANDATORY, AMTEXP, VALIDTAG, LOOKUP, DATATYPE, INVNAME, FLDSOURCE, FLDDESC, CHAINNAME, PRINTINFO, LOOKUPNAME, SEARCHCODE, SRMODCODE, INVFORMAT, CTLTYPE, RISKFLD, GRNAME, TAGFIELD, TAGVALUE, TAGLIST, TAGQUERY, PDEFNAME, TAGUPDATE, FLDRND, SUBFIELD, PDEFVAL, DEFDESC, DEFPARAM)
values ('LN', 'LNTYPE', 'LN.CFPREFERENTIAL', 'LNTYPE', 'Loại hình tín dụng', 'Actype', 6, 'C', '9999', '9999', 4, 'SELECT ACTYPE VALUECD, ACTYPE VALUE, TYPENAME DISPLAY, TYPENAME EN_DISPLAY, TYPENAME DESCRIPTION, CCYCD, LNTYPE, PRINPERIOD, INTFRQCD, INTDAY, INTPERIOD, NINTCD, OINTCD,RATE1,RATE2,RATE3,ORATE1, ORATE2, ORATE3,DRATE, PRINFRQ, OPRINFRQ, OPRINPERIOD, OINTFRQCD, OINTDAY, LNCLDR, ADVPAY, ADVPAYFEE,CFRATE1,CFRATE2,CFRATE3,MINTERM, PREPAID , INTPAIDMETHOD,AUTOAPPLY
FROM LNTYPE WHERE STATUS = ''Y'' AND LNTYPE <> ''N''  and  ACTYPE in  (
select ln.actype
from lntype ln , aftype af, (SELECT  * FROM afidtype WHERE objname=''LN.LNTYPE'' ) afi
where 1=1
AND af.actype=afi.aftype(+)
AND(ln.actype = af.lntype OR ln.lntype=afi.actype)
) ORDER BY CCYCD', null, null, 'Y', 'N', 'Y', null, null, 'Y', 'C', null, null, null, null, null, 'LNTYPE', null, null, null, 'M', 'N', 'MAIN', null, null, null, 'N', null, 'Y', null, 'N', null, null, null);

insert into fldmaster (MODCODE, FLDNAME, OBJNAME, DEFNAME, CAPTION, EN_CAPTION, ODRNUM, FLDTYPE, FLDMASK, FLDFORMAT, FLDLEN, LLIST, LCHK, DEFVAL, VISIBLE, DISABLE, MANDATORY, AMTEXP, VALIDTAG, LOOKUP, DATATYPE, INVNAME, FLDSOURCE, FLDDESC, CHAINNAME, PRINTINFO, LOOKUPNAME, SEARCHCODE, SRMODCODE, INVFORMAT, CTLTYPE, RISKFLD, GRNAME, TAGFIELD, TAGVALUE, TAGLIST, TAGQUERY, PDEFNAME, TAGUPDATE, FLDRND, SUBFIELD, PDEFVAL, DEFDESC, DEFPARAM)
values ('LN', 'AFACCTNO', 'LN.CFPREFERENTIAL', 'AFACCTNO', 'Số tiểu khoản', 'Sub account', -4, 'C', '9999.999999', '9999.999999', 25, ' ', null, ' ', 'Y', 'N', 'Y', ' ', ' ', 'N', 'C', null, null, null, 'AFACCTNO', '##########', null, null, null, null, 'C', 'N', 'MAIN', 'CUSTODYCD', null, 'SELECT CF.CUSTODYCD FILTERCD, AF.ACCTNO VALUE, AF.ACCTNO VALUECD,
    mrt.mrtype||'': ''|| AF.ACCTNO || '': '' || AFT.TYPENAME DISPLAY,
    mrt.mrtype||'': ''|| AF.ACCTNO || '': '' || AFT.TYPENAME EN_DISPLAY, CF.FULLNAME DESCRIPTION
FROM CFMAST CF, AFMAST AF, AFTYPE AFT, mrtype mrt
WHERE CF.CUSTID=AF.CUSTID AND AF.ACTYPE=AFT.ACTYPE
AND af.status <> ''C'' AND af.actype = aft.actype
and aft.mrtype = mrt.actype AND CF.CUSTODYCD = ''<$TAGFIELD>'' ', 'N', 'P_ACCTNO', 'Y', null, 'N', null, null, null);

insert into fldmaster (MODCODE, FLDNAME, OBJNAME, DEFNAME, CAPTION, EN_CAPTION, ODRNUM, FLDTYPE, FLDMASK, FLDFORMAT, FLDLEN, LLIST, LCHK, DEFVAL, VISIBLE, DISABLE, MANDATORY, AMTEXP, VALIDTAG, LOOKUP, DATATYPE, INVNAME, FLDSOURCE, FLDDESC, CHAINNAME, PRINTINFO, LOOKUPNAME, SEARCHCODE, SRMODCODE, INVFORMAT, CTLTYPE, RISKFLD, GRNAME, TAGFIELD, TAGVALUE, TAGLIST, TAGQUERY, PDEFNAME, TAGUPDATE, FLDRND, SUBFIELD, PDEFVAL, DEFDESC, DEFPARAM)
values ('LN', 'AUTOID', 'LN.CFPREFERENTIAL', 'AUTOID', 'Số tự tăng', 'Auto ID', -1, 'T', null, null, 10, null, null, null, 'N', 'N', 'N', null, null, 'N', 'C', null, null, null, null, null, null, null, null, null, 'T', 'N', 'MAIN', null, null, null, 'N', null, 'Y', null, 'N', null, null, null);

insert into fldmaster (MODCODE, FLDNAME, OBJNAME, DEFNAME, CAPTION, EN_CAPTION, ODRNUM, FLDTYPE, FLDMASK, FLDFORMAT, FLDLEN, LLIST, LCHK, DEFVAL, VISIBLE, DISABLE, MANDATORY, AMTEXP, VALIDTAG, LOOKUP, DATATYPE, INVNAME, FLDSOURCE, FLDDESC, CHAINNAME, PRINTINFO, LOOKUPNAME, SEARCHCODE, SRMODCODE, INVFORMAT, CTLTYPE, RISKFLD, GRNAME, TAGFIELD, TAGVALUE, TAGLIST, TAGQUERY, PDEFNAME, TAGUPDATE, FLDRND, SUBFIELD, PDEFVAL, DEFDESC, DEFPARAM)
values ('LN', 'FDATE', 'LN.CFPREFERENTIAL', 'FDATE', 'Từ ngày', 'From date', 1, 'D', '99/99/9999', 'dd/MM/yyyy', 10, null, null, '<$BUSDATE>', 'Y', 'N', 'Y', null, null, 'N', 'D', null, null, null, null, null, null, null, null, null, 'M', 'N', 'MAIN', null, null, null, 'N', null, 'Y', null, 'N', null, null, null);

insert into fldmaster (MODCODE, FLDNAME, OBJNAME, DEFNAME, CAPTION, EN_CAPTION, ODRNUM, FLDTYPE, FLDMASK, FLDFORMAT, FLDLEN, LLIST, LCHK, DEFVAL, VISIBLE, DISABLE, MANDATORY, AMTEXP, VALIDTAG, LOOKUP, DATATYPE, INVNAME, FLDSOURCE, FLDDESC, CHAINNAME, PRINTINFO, LOOKUPNAME, SEARCHCODE, SRMODCODE, INVFORMAT, CTLTYPE, RISKFLD, GRNAME, TAGFIELD, TAGVALUE, TAGLIST, TAGQUERY, PDEFNAME, TAGUPDATE, FLDRND, SUBFIELD, PDEFVAL, DEFDESC, DEFPARAM)
values ('LN', 'TDATE', 'LN.CFPREFERENTIAL', 'TDATE', 'Ðến ngày', 'To date', 2, 'D', '99/99/9999', 'dd/MM/yyyy', 10, null, null, '<$BUSDATE>', 'Y', 'N', 'Y', null, null, 'N', 'D', null, null, null, null, null, null, null, null, null, 'M', 'N', 'MAIN', null, null, null, 'N', null, 'Y', null, 'N', null, null, null);

insert into fldmaster (MODCODE, FLDNAME, OBJNAME, DEFNAME, CAPTION, EN_CAPTION, ODRNUM, FLDTYPE, FLDMASK, FLDFORMAT, FLDLEN, LLIST, LCHK, DEFVAL, VISIBLE, DISABLE, MANDATORY, AMTEXP, VALIDTAG, LOOKUP, DATATYPE, INVNAME, FLDSOURCE, FLDDESC, CHAINNAME, PRINTINFO, LOOKUPNAME, SEARCHCODE, SRMODCODE, INVFORMAT, CTLTYPE, RISKFLD, GRNAME, TAGFIELD, TAGVALUE, TAGLIST, TAGQUERY, PDEFNAME, TAGUPDATE, FLDRND, SUBFIELD, PDEFVAL, DEFDESC, DEFPARAM)
values ('LN', 'LNID', 'LN.CFPREFERENTIAL', 'LNID', 'Mã loại hình', 'ObjKey', 3, 'T', null, null, 10, null, null, '<$PARENTID>', 'Y', 'Y', 'Y', null, null, 'N', 'C', null, null, null, null, null, null, null, null, null, 'T', 'Y', 'MAIN', null, null, null, 'N', null, 'Y', null, 'N', null, null, null);

insert into fldmaster (MODCODE, FLDNAME, OBJNAME, DEFNAME, CAPTION, EN_CAPTION, ODRNUM, FLDTYPE, FLDMASK, FLDFORMAT, FLDLEN, LLIST, LCHK, DEFVAL, VISIBLE, DISABLE, MANDATORY, AMTEXP, VALIDTAG, LOOKUP, DATATYPE, INVNAME, FLDSOURCE, FLDDESC, CHAINNAME, PRINTINFO, LOOKUPNAME, SEARCHCODE, SRMODCODE, INVFORMAT, CTLTYPE, RISKFLD, GRNAME, TAGFIELD, TAGVALUE, TAGLIST, TAGQUERY, PDEFNAME, TAGUPDATE, FLDRND, SUBFIELD, PDEFVAL, DEFDESC, DEFPARAM)
values ('LN', 'CUSTODYCD', 'LN.CFPREFERENTIAL', 'CUSTODYCD', 'Số TK lưu ký', 'Custody code', -5, 'C', 'cccc.cccccc', '_', 10, ' ', ' ', '091C', 'Y', 'N', 'Y', ' ', ' ', 'N', 'C', null, null, null, 'CUSTODYCD', '##########', null, 'CUSTODYCD_CF', 'CF', null, 'M', 'N', 'MAIN', null, null, null, 'N', null, 'Y', null, 'N', null, null, null);
COMMIT;
/
--
--
DELETE FLDVAL WHERE OBJNAME='LN.CFPREFERENTIAL';
insert into FLDVAL (FLDNAME, OBJNAME, ODRNUM, VALTYPE, OPERATOR, VALEXP, VALEXP2, ERRMSG, EN_ERRMSG, TAGFIELD, TAGVALUE, CHKLEV)
values ('TDATE', 'LN.CFPREFERENTIAL', 0, 'V', '>=', 'FDATE', null, 'Từ ngày phải nhỏ hơn hoặc bằng đến ngày', 'Amount balance should be greater than withdrawn amount', null, null, 0);
COMMIT;
/


