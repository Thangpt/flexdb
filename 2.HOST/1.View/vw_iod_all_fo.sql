CREATE OR REPLACE FORCE VIEW VW_IOD_ALL_FO AS
select NVL(f.forefid, ORGORDERID) ORGORDERID,"EXORDERID","CODEID","SYMBOL","CUSTODYCD","BORS","NORP","AORN","PRICE",
"QTTY","REFCUSTCD","MATCHPRICE","MATCHQTTY","TXNUM","TXDATE","DELTD","CONFIRM_NO","TXTIME",
IODFEEACR,IODTAXSELLAMT from iod, (SELECT forefid, ORGACCTNO FROM fomast WHERE forefid IS NOT null) f
WHERE iod.ORGORDERID = f.ORGACCTNO(+)
union all
select NVL(f.forefid, ORGORDERID) ORGORDERID,"EXORDERID","CODEID","SYMBOL","CUSTODYCD","BORS","NORP","AORN","PRICE",
"QTTY","REFCUSTCD","MATCHPRICE","MATCHQTTY","TXNUM","TXDATE","DELTD","CONFIRM_NO","TXTIME",
IODFEEACR,IODTAXSELLAMT from iodhist, (SELECT forefid, ORGACCTNO FROM fomasthist WHERE forefid IS NOT null) f
WHERE iodhist.ORGORDERID = f.ORGACCTNO(+);

